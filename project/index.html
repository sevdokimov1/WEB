<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camellia | Студия художественной фотографии</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Подключаем каллиграфический шрифт для заголовка -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- EmailJS -->
    <style>
        /* СБРОС И БАЗОВЫЕ НАСТРОЙКИ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.6;
            color: #41322c;
            background-color: #FFFBF6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Анимации */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideInLeft {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.8s ease-out forwards;
        }

        .animate-slide-left {
            animation: slideInLeft 0.8s ease-out forwards;
        }

        .animate-slide-right {
            animation: slideInRight 0.8s ease-out forwards;
        }

        .animate-pulse-once {
            animation: pulse 0.5s ease-in-out;
        }

        .animate-float {
            animation: float 3s ease-in-out infinite;
        }

        .animate-slide-down {
            animation: slideDown 0.3s ease-out forwards;
        }

        /* КНОПКА МЕНЮ В ВЕРХНЕМ ПРАВОМ УГЛУ */
        .menu-header-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: rgba(92, 64, 51, 0.9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .menu-header-btn:hover {
            background: rgba(108, 75, 60, 0.95);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
        }

        .menu-header-btn.active {
            background: rgba(75, 43, 21, 0.95);
            transform: rotate(90deg);
        }

        /* ВЫПАДАЮЩЕЕ МЕНЮ */
        .dropdown-menu {
            position: fixed;
            top: 70px;
            right: 20px;
            z-index: 999;
            background: white;
            width: 320px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            display: none;
            opacity: 0;
            transform: translateY(-10px) scale(0.95);
            overflow: hidden;
            border: 1px solid #E8D0B3;
        }

        .dropdown-menu.show {
            display: block;
            animation: slideDown 0.3s ease-out forwards;
        }

        .menu-header {
            background: linear-gradient(135deg, #5c3f32, #8a5e49);
            color: white;
            padding: 20px;
            text-align: center;
        }

        .menu-header h3 {
            font-family: 'Dancing Script', cursive;
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .menu-header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .menu-content {
            padding: 20px;
            max-height: 70vh;
            overflow-y: auto;
        }

        .menu-section {
            margin-bottom: 25px;
        }

        .menu-section h4 {
            color: #5c3f32;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px dashed #D2B48C;
            font-size: 1.1rem;
        }

        .menu-section p {
            color: #5C4033;
            margin-bottom: 10px;
            font-size: 0.95rem;
        }

        .menu-section ul {
            list-style: none;
            padding-left: 5px;
        }

        .menu-section li {
            margin-bottom: 8px;
            padding-left: 15px;
            position: relative;
            color: #5C4033;
            font-size: 0.95rem;
        }

        .menu-section li:before {
            content: "•";
            color: #D2B48C;
            position: absolute;
            left: 0;
        }

        .menu-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .menu-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background: #F9F1E7;
            border-radius: 8px;
            text-decoration: none;
            color: #5c3f32;
            transition: all 0.3s;
            border-left: 4px solid #c9b08f;
        }

        .menu-link:hover {
            background: #E8D0B3;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .menu-link i {
            width: 20px;
            text-align: center;
            color: #8a5e49;
        }

        /* ОСНОВНОЙ КОНТЕЙНЕР (без сайдбара) */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            width: 100%;
        }

        /* ШАПКА С ФОТОГРАФИЕЙ */
        .header-wrapper {
            position: relative;
            height: 600px;
            overflow: hidden;
            margin-bottom: 10px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            animation: fadeIn 1.5s ease-out;
        }

        .logo-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background-color: rgba(255, 251, 246, 0.85);
            padding: 25px 50px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(92, 64, 51, 0.25);
            animation: fadeIn 1s ease-out 0.3s both;
            backdrop-filter: blur(5px);
        }

        .logo {
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            font-weight: 700;
            color: #725c4d;
            text-decoration: none;
            display: block;
            transition: transform 0.3s;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .logo-subtitle {
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.2rem;
            color: #503529;
            letter-spacing: 3px;
            margin-top: 8px;
            text-transform: uppercase;
            font-weight: 300;
        }

        /* ОСНОВНОЙ КОНТЕНТ */
        .main-content {
            padding: 30px 0;
        }

        /* БЛОК С ИНФОРМАЦИЕЙ И ГЛАВНЫМ ИЗОБРАЖЕНИЕМ */
        .hero-section {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            align-items: flex-start;
            margin-bottom: 60px;
            padding-bottom: 40px;
            border-bottom: 1px solid #E8D0B3;
        }

        .info-box {
            flex: 1;
            min-width: 300px;
            opacity: 0;
            animation: slideInLeft 0.8s ease-out 0.4s forwards;
        }

        .info-box h2 {
            font-family: 'Times New Roman', Times, serif;
            font-size: 2.2rem;
            color: #46231a;
            margin-bottom: 25px;
            line-height: 1.3;
        }

        .info-box p {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: #5C4033;
        }

        .studio-gallery {
            flex: 0 0 500px;
            min-width: 300px;
            opacity: 0;
            animation: slideInRight 0.8s ease-out 0.6s forwards;
        }

        .studio-gallery h3 {
            font-family: 'Times New Roman', Times, serif;
            font-size: 1.8rem;
            color: #663529;
            margin-bottom: 20px;
            text-align: center;
        }

        .studio-images {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .studio-images img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .studio-images img:hover {
            transform: scale(1.05) rotate(1deg);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }

        .studio-images .main-studio-img {
            grid-column: span 2;
            height: 250px;
        }

        /* ГАЛЕРЕЯ-КАРУСЕЛЬ */
        .gallery-section {
            margin-bottom: 60px;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 0.8s forwards;
        }

        .gallery-section h2 {
            font-family: 'Times New Roman', Times, serif;
            font-size: 2rem;
            color: #5f3c23;
            margin-bottom: 30px;
            text-align: center;
        }

        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            background-color: #F5E9DB;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .carousel-slide {
            min-width: 25%;
            padding: 10px;
        }

        .carousel-slide img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            display: block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .carousel-slide img:hover {
            transform: scale(1.08);
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(83, 47, 20, 0.8);
            color: #FFFBF6;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s;
        }

        .carousel-btn:hover {
            background-color: rgba(75, 43, 21, 1);
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-btn.prev {
            left: 10px;
        }

        .carousel-btn.next {
            right: 10px;
        }

        .carousel-dots {
            text-align: center;
            margin-top: 20px;
        }

        .dot {
            display: inline-block;
            width: 12px;
            height: 12px;
            background-color: #D2B48C;
            border-radius: 50%;
            margin: 0 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .dot:hover {
            transform: scale(1.3);
        }

        .dot.active {
            background-color: #755c4a;
            transform: scale(1.3);
        }

        /* ГАЛЕРЕЯ СТУДИЙ */
        .studios-section {
            margin: 60px 0;
            padding: 30px;
            background-color: #F9F1E7;
            border-radius: 15px;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 1s forwards;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .studios-section h2 {
            font-family: 'Times New Roman', Times, serif;
            font-size: 2rem;
            color: #533a29;
            margin-bottom: 30px;
            text-align: center;
        }

        .studios-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
        }

        .studio-item {
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
            padding: 15px;
            border-radius: 10px;
            background: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .studio-item:nth-child(1) { animation-delay: 1.1s; }
        .studio-item:nth-child(2) { animation-delay: 1.2s; }
        .studio-item:nth-child(3) { animation-delay: 1.3s; }

        .studio-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .studio-item.selected {
            border: 2px solid #4d3625;
            background-color: rgba(139, 69, 19, 0.05);
            animation: pulse 0.5s ease-in-out;
        }

        .studio-item img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 20px;
            transition: transform 0.4s;
        }

        .studio-item:hover img {
            transform: scale(1.05);
        }

        .studio-item h3 {
            color: #8a5e49;
            margin-bottom: 10px;
            font-size: 1.3rem;
        }

        /* КНОПКА И КАЛЬКУЛЯТОР */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 40px 0;
            flex-wrap: wrap;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 1.4s forwards;
        }

        .action-btn {
            background: linear-gradient(135deg, #5c3f32, #8a5e49);
            color: white;
            border: none;
            padding: 18px 35px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Times New Roman', Times, serif;
            display: flex;
            align-items: center;
            gap: 12px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(92, 64, 51, 0.2);
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .action-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(139, 69, 19, 0.3);
        }

        .action-btn:active {
            transform: translateY(-2px);
        }

        .action-btn i {
            transition: transform 0.3s;
        }

        .action-btn.active i {
            transform: rotate(180deg);
        }

        .calculator, .booking-form {
            background-color: #F9F1E7;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0 40px;
            border: 1px solid #E8D0B3;
            display: none;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .calculator.show, .booking-form.show {
            display: block;
        }

        .calculator h3, .booking-form h2 {
            color: #4d3423;
            margin-bottom: 25px;
            text-align: center;
            font-size: 1.8rem;
        }

        .calculator-item {
            margin-bottom: 25px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .calculator-item:nth-child(1) { animation-delay: 0.1s; }
        .calculator-item:nth-child(2) { animation-delay: 0.2s; }
        .calculator-item:nth-child(3) { animation-delay: 0.3s; }
        .calculator-item:nth-child(4) { animation-delay: 0.4s; }
        .calculator-item:nth-child(5) { animation-delay: 0.5s; }

        .calculator-item label {
            display: block;
            margin-bottom: 10px;
            color: #5C4033;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .calculator-item select, .calculator-item input {
            width: 100%;
            padding: 14px;
            border: 2px solid #D2B48C;
            border-radius: 8px;
            background-color: white;
            font-family: 'Times New Roman', Times, serif;
            color: #5C4033;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .calculator-item select:focus, .calculator-item input:focus {
            outline: none;
            border-color: #8a5e49;
            box-shadow: 0 0 0 3px rgba(138, 94, 73, 0.1);
        }

        .location-option {
            margin-bottom: 12px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .location-option:nth-child(1) { animation-delay: 0.1s; }
        .location-option:nth-child(2) { animation-delay: 0.2s; }

        .location-option label {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 12px;
            border-radius: 8px;
            transition: background-color 0.3s;
            font-weight: normal;
        }

        .location-option label:hover {
            background-color: rgba(245, 233, 219, 0.5);
        }

        .location-option input {
            margin-right: 12px;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .calculator-total {
            background: linear-gradient(135deg, #F5E9DB, #E8D0B3);
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            font-size: 1.8rem;
            color: #4d2417;
            font-weight: bold;
            margin-top: 30px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 0.6s forwards;
            transition: all 0.3s;
            border: 2px solid #D2B48C;
        }

        .calculator-total:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        /* ФОРМА ЗАЯВКИ */
        .form-group {
            margin-bottom: 25px;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .form-group:nth-child(1) { animation-delay: 0.1s; }
        .form-group:nth-child(2) { animation-delay: 0.2s; }
        .form-group:nth-child(3) { animation-delay: 0.3s; }
        .form-group:nth-child(4) { animation-delay: 0.4s; }
        .form-group:nth-child(5) { animation-delay: 0.5s; }
        .form-group:nth-child(6) { animation-delay: 0.6s; }
        .form-group:nth-child(7) { animation-delay: 0.7s; }
        .form-group:nth-child(8) { animation-delay: 0.8s; }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #5C4033;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid #D2B48C;
            border-radius: 8px;
            background-color: white;
            font-family: 'Times New Roman', Times, serif;
            font-size: 1rem;
            color: #5C4033;
            transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #8a5e49;
            box-shadow: 0 0 0 3px rgba(138, 94, 73, 0.1);
        }

        .form-group textarea {
            height: 120px;
            resize: vertical;
        }

        .submit-btn {
            display: block;
            width: 100%;
            background: linear-gradient(135deg, #5c3f32, #8a5e49);
            color: white;
            border: none;
            padding: 18px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Times New Roman', Times, serif;
            position: relative;
            overflow: hidden;
            opacity: 0;
            animation: fadeIn 0.5s ease-out 0.9s forwards;
            box-shadow: 0 8px 25px rgba(92, 64, 51, 0.2);
        }

        .submit-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .submit-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .submit-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(139, 69, 19, 0.3);
        }

        .submit-btn:disabled {
            background: #D2B48C;
            cursor: not-allowed;
        }

        .form-message {
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s ease-out;
            font-size: 1.1rem;
        }

        .form-message.success {
            background-color: rgba(144, 238, 144, 0.3);
            color: #2E8B57;
            border: 2px solid #2E8B57;
            display: block;
        }

        .form-message.error {
            background-color: rgba(255, 182, 193, 0.3);
            color: #B22222;
            border: 2px solid #B22222;
            display: block;
        }

        /* КОНТАКТЫ */
        .contacts {
            text-align: center;
            padding: 40px;
            background: linear-gradient(135deg, #F5E9DB, #F9F1E7);
            border-radius: 15px;
            margin-bottom: 50px;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 1.6s forwards;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .contacts h2 {
            color: #553c29;
            margin-bottom: 35px;
            font-size: 2rem;
        }

        .contact-methods {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
        }

        .contact-method {
            padding: 25px;
            transition: all 0.3s;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .contact-method:nth-child(1) { animation-delay: 1.7s; }
        .contact-method:nth-child(2) { animation-delay: 1.8s; }
        .contact-method:nth-child(3) { animation-delay: 1.9s; }
        .contact-method:nth-child(4) { animation-delay: 2s; }

        .contact-method:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .contact-method i {
            font-size: 3rem;
            color: #523326;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .contact-method:hover i {
            color: #8a5e49;
            transform: scale(1.2);
        }

        /* ПОДВАЛ */
        footer {
            background: linear-gradient(135deg, #5c3f32, #8a5e49);
            color: #F5E9DB;
            text-align: center;
            padding: 30px;
            margin-top: auto;
            opacity: 0;
            animation: fadeIn 0.8s ease-out 2.1s forwards;
        }

        footer p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* АДАПТИВ ДЛЯ ПЛАНШЕТОВ */
        @media (max-width: 1024px) {
            .header-wrapper {
                height: 400px;
            }

            .logo-container {
                padding: 20px 40px;
            }

            .logo {
                font-size: 3.5rem;
            }

            .carousel-slide {
                min-width: 33.33%;
            }

            .carousel-slide img {
                height: 180px;
            }

            .studios-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .contact-methods {
                grid-template-columns: repeat(2, 1fr);
            }

            .studio-images img {
                height: 120px;
            }

            .studio-images .main-studio-img {
                height: 200px;
            }
        }

        /* АДАПТИВ ДЛЯ ТЕЛЕФОНОВ */
        @media (max-width: 768px) {
            .menu-header-btn {
                top: 15px;
                right: 15px;
                padding: 10px 15px;
                font-size: 1rem;
            }

            .dropdown-menu {
                width: calc(100% - 30px);
                right: 15px;
            }

            .header-wrapper {
                height: 300px;
            }

            .logo-container {
                padding: 15px 25px;
                width: 90%;
            }

            .logo {
                font-size: 2.8rem;
            }

            .logo-subtitle {
                font-size: 1rem;
                letter-spacing: 2px;
            }

            .main-content {
                padding: 20px 0;
            }

            .hero-section {
                flex-direction: column;
                gap: 30px;
            }

            .studio-gallery {
                flex: 1;
                width: 100%;
            }

            .studio-images {
                grid-template-columns: 1fr;
            }

            .studio-images .main-studio-img {
                grid-column: span 1;
                height: 200px;
            }

            .carousel-slide {
                min-width: 50%;
            }

            .carousel-slide img {
                height: 150px;
            }

            .studios-grid {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                flex-direction: column;
                align-items: center;
            }

            .action-btn {
                width: 100%;
                max-width: 350px;
                justify-content: center;
            }

            .contact-methods {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .calculator, .booking-form {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .header-wrapper {
                height: 250px;
            }

            .logo-container {
                padding: 12px 20px;
            }

            .logo {
                font-size: 2.2rem;
            }

            .logo-subtitle {
                font-size: 0.8rem;
                letter-spacing: 1px;
            }

            .carousel-slide {
                min-width: 100%;
            }

            .studio-item img {
                height: 200px;
            }

            .contact-method {
                padding: 20px;
            }
        }

        #gallery, #studios {
            scroll-margin-top: 100px;
        }

        /* Оверлей при открытом меню */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 998;
            display: none;
            backdrop-filter: blur(3px);
        }

        .menu-overlay.show {
            display: block;
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
<!-- КНОПКА МЕНЮ -->
<button class="menu-header-btn" id="menuToggle">
    <i class="fas fa-bars"></i>
    <span>Меню</span>
</button>

<!-- ОВЕРЛЕЙ ДЛЯ ЗАКРЫТИЯ МЕНЮ -->
<div class="menu-overlay" id="menuOverlay"></div>

<!-- ВЫПАДАЮЩЕЕ МЕНЮ -->
<div class="dropdown-menu" id="dropdownMenu">
    <div class="menu-header">
        <h3>Camellia Studio</h3>
        <p>Студия художественной фотографии</p>
    </div>

    <div class="menu-content">
        <div class="menu-section">
            <h4>Быстрые ссылки</h4>
            <div class="menu-links">
                <a href="#gallery" class="menu-link" id="menuGalleryLink">
                    <i class="fas fa-images"></i>
                    <span>Галерея работ</span>
                </a>
                <a href="#studios" class="menu-link" id="menuStudiosLink">
                    <i class="fas fa-building"></i>
                    <span>Наши студии</span>
                </a>
                <a href="#" class="menu-link" id="menuCalcLink">
                    <i class="fas fa-calculator"></i>
                    <span>Калькулятор услуг</span>
                </a>
                <a href="#" class="menu-link" id="menuBookingLink">
                    <i class="fas fa-calendar-check"></i>
                    <span>Запись на фотосессию</span>
                </a>
            </div>
        </div>

        <div class="menu-section">
            <h4>О студии</h4>
            <p>Camellia — пространство, где моменты превращаются в вечное искусство.</p>
            <p>Специализация: портретная, семейная и арт-фотография.</p>
        </div>

        <div class="menu-section">
            <h4>Часы работы</h4>
            <ul>
                <li>Пн-Пт: 9:00 - 21:00</li>
                <li>Сб-Вс: 11:00 - 19:00</li>
            </ul>
            <p>Запись по предварительной договоренности.</p>
        </div>

        <div class="menu-section">
            <h4>Контактная информация</h4>
            <p><i class="fas fa-phone-alt"></i> +7 (999) 999-99-99</p>
            <p><i class="fas fa-envelope"></i> camellia_studio@mail.com</p>
            <p><i class="fab fa-instagram"></i> @camellia_studio</p>
        </div>
    </div>
</div>

<!-- ШАПКА С ФОТОГРАФИЕЙ -->
<div class="header-wrapper">
    <img src="logo.jpg"
         alt="Студия фотографии Camellia" class="header-photo">
    <div class="logo-container">
        <a href="#" class="logo">Camellia</a>
        <span class="logo-subtitle">Студия художественной фотографии</span>
    </div>
</div>

<!-- ОСНОВНОЙ КОНТЕЙНЕР -->
<div class="container">
    <!-- ОСНОВНОЕ СОДЕРЖИМОЕ -->
    <main class="main-content">
        <!-- ГЕРОЙ С ИНФОРМАЦИЕЙ И МИНИ-ГАЛЕРЕЕЙ -->
        <section class="hero-section">
            <div class="info-box">
                <h2>Превратим ваши мгновения в вечное искусство</h2>
                <p>Студия Camellia предлагает профессиональную фотосъемку в уютной атмосфере. Мы работаем с естественным светом и вниманием к деталям, создавая фотографии, которые рассказывают вашу историю.</p>
                <p>Наша команда — опытные фотографы и ретушеры, которые помогут вам раскрыться перед камерой и получить изображения, которые будут радовать вас долгие годы.</p>
                <p>От индивидуальных портретов до семейных историй — мы найдем подход к каждому проекту.</p>
                <p><strong>Выездная фотосессия:</strong> Мы приедем к вам домой, на природу или в любое другое место для создания уникальных снимков.</p>
            </div>

            <div class="studio-gallery">
                <h3>Наша студия</h3>
                <div class="studio-images">
                    <img src="leftphoto3.jpg"
                         alt="Интерьер студии 1" class="main-studio-img">
                    <img src="leftpoto2.jpg"
                         alt="Интерьер студии 2">
                    <img src="leftphoto1.jpg"
                         alt="Интерьер студии 3">
                </div>
                <p>Просторная студия с естественным светом, профессиональным оборудованием и уютной атмосферой для комфортной съемки.</p>
            </div>
        </section>

        <!-- ГАЛЕРЕЯ-КАРУСЕЛЬ С РАБОТАМИ -->
        <section class="gallery-section" id="gallery">
            <h2>Примеры наших работ</h2>
            <div class="carousel-container">
                <button class="carousel-btn prev"><i class="fas fa-chevron-left"></i></button>
                <button class="carousel-btn next"><i class="fas fa-chevron-right"></i></button>
                <div class="carousel-track" id="carouselTrack">
                    <!-- Слайды заполняются через JavaScript -->
                </div>
                <div class="carousel-dots" id="carouselDots">
                    <!-- Точки заполняются через JavaScript -->
                </div>
            </div>
        </section>

        <!-- ГАЛЕРЕЯ СТУДИЙ ДЛЯ ФОТОСЕССИЙ -->
        <section class="studios-section" id="studios">
            <h2>Выберите студию для фотосессии</h2>
            <p style="text-align: center; margin-bottom: 30px; color: #5C4033;">Выбранная студия повлияет на стоимость в калькуляторе</p>
            <div class="studios-grid" id="studiosGrid">
                <!-- Студии заполняются через JavaScript -->
            </div>
        </section>

        <!-- КНОПКИ ДЛЯ КАЛЬКУЛЯТОРА И ФОРМЫ -->
        <div class="action-buttons">
            <button class="action-btn" id="calcToggle">
                <i class="fas fa-calculator"></i>Рассчитать стоимость
            </button>
            <button class="action-btn" id="formToggle">
                <i class="fas fa-calendar-alt"></i>Записаться на фотосессию
            </button>
        </div>

        <!-- КАЛЬКУЛЯТОР -->
        <div class="calculator" id="calculator">
            <h3>Калькулятор стоимости фотосессии</h3>

            <!-- Выбор студии/локации -->
            <div class="calculator-item">
                <label>Выберите место съемки:</label>
                <div class="location-option">
                    <label>
                        <input type="radio" name="location" value="studio" checked>
                        <span>В студии (базовая цена)</span>
                    </label>
                </div>
                <div class="location-option">
                    <label>
                        <input type="radio" name="location" value="client">
                        <span>Выездная съемка на локации клиента (+30%)</span>
                    </label>
                </div>
            </div>

            <!-- Выбор конкретной студии -->
            <div class="calculator-item" id="studioSelection">
                <label for="studioType">Выберите студию:</label>
                <select id="studioType">
                    <option value="1">Лофт-студия (стандарт)</option>
                    <option value="1.2">Классическая студия (+20%)</option>
                    <option value="1.3">Студия с естественным светом (+30%)</option>
                </select>
            </div>

            <!-- Тип фотосессии -->
            <div class="calculator-item">
                <label for="photoType">Тип фотосессии:</label>
                <select id="photoType">
                    <option value="5000">Индивидуальный портрет (5 000 ₽)</option>
                    <option value="8000">Семейная (8 000 ₽)</option>
                    <option value="12000">Love-story / Пара (12 000 ₽)</option>
                    <option value="15000">Детская (15 000 ₽)</option>
                    <option value="20000">Свадебная (20 000 ₽)</option>
                </select>
            </div>

            <!-- Продолжительность -->
            <div class="calculator-item">
                <label for="duration">Продолжительность:</label>
                <select id="duration">
                    <option value="1">1 час (коэф. 1)</option>
                    <option value="1.5">1,5 часа (коэф. 1.3)</option>
                    <option value="2">2 часа (коэф. 1.6)</option>
                    <option value="3">3 часа (коэф. 2)</option>
                </select>
            </div>

            <!-- Ретушь -->
            <div class="calculator-item">
                <label for="retouch">Ретушь фотографий:</label>
                <select id="retouch">
                    <option value="0">Без ретуши</option>
                    <option value="1000">10 фото (1 000 ₽)</option>
                    <option value="2000">20 фото (2 000 ₽)</option>
                    <option value="3000">30 фото (3 000 ₽)</option>
                </select>
            </div>

            <!-- Итоговая цена -->
            <div class="calculator-total">
                Итого: <span id="totalPrice">5 000</span> ₽
            </div>
        </div>

        <!-- ФОРМА ЗАЯВКИ -->
        <div class="booking-form" id="bookingForm">
            <h2>Записаться на фотосессию</h2>
            <div id="formMessage" class="form-message"></div>
            <form id="bookingFormContent">
                <div class="form-group">
                    <label for="name">Ваше имя *</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="phone">Номер телефона *</label>
                    <input type="tel" id="phone" name="phone" required>
                </div>
                <div class="form-group">
                    <label for="email">Электронная почта *</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="sessionType">Тип фотосессии *</label>
                    <select id="sessionType" name="sessionType" required>
                        <option value="">Выберите тип...</option>
                        <option value="Индивидуальный портрет">Индивидуальный портрет</option>
                        <option value="Семейная">Семейная</option>
                        <option value="Love-story / Пара">Love-story / Пара</option>
                        <option value="Детская">Детская</option>
                        <option value="Свадебная">Свадебная</option>
                        <option value="Другое">Другое</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="locationType">Место съемки *</label>
                    <select id="locationType" name="locationType" required>
                        <option value="">Выберите место...</option>
                        <option value="В студии">В студии</option>
                        <option value="Выездная съемка">Выездная съемка</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="preferredStudio">Предпочитаемая студия (если в студии)</label>
                    <select id="preferredStudio" name="preferredStudio">
                        <option value="">Не важно</option>
                        <option value="Лофт-студия">Лофт-студия</option>
                        <option value="Классическая студия">Классическая студия</option>
                        <option value="Студия с естественным светом">Студия с естественным светом</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="preferredDate">Предпочтительная дата</label>
                    <input type="date" id="preferredDate" name="preferredDate">
                </div>
                <div class="form-group">
                    <label for="message">Ваши пожелания и комментарии</label>
                    <textarea id="message" name="message" placeholder="Расскажите о ваших идеях, предпочтительных датах, особенностях локации..."></textarea>
                </div>
                <button type="submit" class="submit-btn" id="submitBtn">
                    <span id="submitText">Отправить заявку</span>
                    <span id="submitSpinner" style="display: none;">
                            <i class="fas fa-spinner fa-spin"></i> Отправка...
                        </span>
                </button>
            </form>
        </div>

        <!-- КОНТАКТЫ -->
        <section class="contacts">
            <h2>Свяжитесь с нами</h2>
            <div class="contact-methods">
                <div class="contact-method">
                    <i class="fas fa-phone-alt"></i>
                    <h3>Телефон</h3>
                    <p>+7 (999) 999-99-99</p>
                </div>
                <div class="contact-method">
                    <i class="fas fa-envelope"></i>
                    <h3>Email</h3>
                    <p>camellia_studio@mail.com</p>
                </div>
                <div class="contact-method">
                    <i class="fab fa-instagram"></i>
                    <h3>Instagram</h3>
                    <p>@camellia_studio</p>
                </div>
                <div class="contact-method">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Адрес студии</h3>
                    <p>ул. Красная, 84/2 г. Краснодар</p>
                </div>
            </div>
        </section>
    </main>
</div>

<!-- ПОДВАЛ -->
<footer>
    <p>© 2025 Студия художественной фотографии «Camellia». Все права защищены.</p>
</footer>

<script>
    // Инициализация EmailJS

    // Функционал выпадающего меню
    const menuToggle = document.getElementById('menuToggle');
    const dropdownMenu = document.getElementById('dropdownMenu');
    const menuOverlay = document.getElementById('menuOverlay');
    let isMenuOpen = false;

    function toggleMenu() {
        isMenuOpen = !isMenuOpen;

        if (isMenuOpen) {
            dropdownMenu.classList.add('show');
            menuOverlay.classList.add('show');
            menuToggle.classList.add('active');
            menuToggle.innerHTML = '<i class="fas fa-times"></i><span>Закрыть</span>';
        } else {
            dropdownMenu.classList.remove('show');
            menuOverlay.classList.remove('show');
            menuToggle.classList.remove('active');
            menuToggle.innerHTML = '<i class="fas fa-bars"></i><span>Меню</span>';
        }
    }

    function closeMenu() {
        isMenuOpen = false;
        dropdownMenu.classList.remove('show');
        menuOverlay.classList.remove('show');
        menuToggle.classList.remove('active');
        menuToggle.innerHTML = '<i class="fas fa-bars"></i><span>Меню</span>';
    }

    // Обработчики для меню
    menuToggle.addEventListener('click', toggleMenu);
    menuOverlay.addEventListener('click', closeMenu);

    // Закрытие меню при клике на ссылку в меню
    document.querySelectorAll('#dropdownMenu a').forEach(link => {
        link.addEventListener('click', function(e) {
            if (this.getAttribute('href') === '#') {
                e.preventDefault();

                // Получаем идентификатор действия
                const action = this.id.replace('menu', '').replace('Link', '').toLowerCase();

                // Выполняем соответствующее действие
                switch(action) {
                    case 'gallery':
                        closeMenu();
                        setTimeout(() => {
                            const gallerySection = document.getElementById('gallery');
                            gallerySection.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }, 300);
                        break;

                    case 'studios':
                        closeMenu();
                        setTimeout(() => {
                            const studiosSection = document.getElementById('studios');
                            studiosSection.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }, 300);
                        break;

                    case 'calc':
                        closeMenu();
                        setTimeout(() => {
                            calculator.style.display = 'block';
                            calculator.classList.add('show');
                            calcToggle.classList.add('active');

                            if (bookingForm.classList.contains('show')) {
                                bookingForm.style.display = 'none';
                                bookingForm.classList.remove('show');
                                formToggle.classList.remove('active');
                            }

                            calculator.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }, 300);
                        break;

                    case 'booking':
                        closeMenu();
                        setTimeout(() => {
                            bookingForm.style.display = 'block';
                            bookingForm.classList.add('show');
                            formToggle.classList.add('active');

                            if (calculator.classList.contains('show')) {
                                calculator.style.display = 'none';
                                calculator.classList.remove('show');
                                calcToggle.classList.remove('active');
                            }

                            bookingForm.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }, 300);
                        break;
                }
            } else {
                closeMenu();
            }
        });
    });

    // Закрытие меню при нажатии ESC
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && isMenuOpen) {
            closeMenu();
        }
    });

    // Галерея карусель
    const carouselImages = [
        "1.jpg", "17.jpg", "2.jpg", "16.jpg", "3.jpg", "15.jpg",
        "4.jpg", "14.jpg", "5.jpg", "13.jpg", "6.jpg", "12.jpg",
        "7.jpg", "11.jpg", "8.jpg", "10.jpg", "9.jpg", "1.jpg",
        "18.jpg", "19.jpg", "20.jpg", "21.jpg", "22.jpg", "13.jpg",
        "23.jpg", "24.jpg", "30.jpg", "31.jpg",
    ];

    const carouselTrack = document.getElementById('carouselTrack');
    const carouselDots = document.getElementById('carouselDots');
    let currentSlide = 0;
    let slidesPerView = 4;
    let autoSlideInterval;
    let isCarouselInitialized = false;

    function initCarousel() {
        if (isCarouselInitialized && window.innerWidth > 768) {
            updateCarousel();
            return;
        }

        if (window.innerWidth <= 768) {
            slidesPerView = 2;
        } else if (window.innerWidth <= 1024) {
            slidesPerView = 3;
        } else {
            slidesPerView = 4;
        }

        carouselTrack.innerHTML = '';
        carouselDots.innerHTML = '';

        const totalSlides = Math.ceil(carouselImages.length / slidesPerView);

        for (let i = 0; i < totalSlides; i++) {
            const slide = document.createElement('div');
            slide.className = 'carousel-slide';

            for (let j = 0; j < slidesPerView; j++) {
                const imgIndex = i * slidesPerView + j;
                if (imgIndex < carouselImages.length) {
                    const img = document.createElement('img');
                    img.src = carouselImages[imgIndex];
                    img.alt = `Пример работы ${imgIndex + 1}`;
                    img.onerror = function() {
                        this.src = 'https://placehold.co/300x180/FFFBF6/5C4033?text=Фото+студии';
                        this.alt = 'Изображение временно недоступно';
                    };
                    slide.appendChild(img);
                }
            }
            carouselTrack.appendChild(slide);

            const dot = document.createElement('span');
            dot.className = 'dot';
            if (i === 0) dot.classList.add('active');
            dot.dataset.index = i;
            dot.addEventListener('click', () => {
                goToSlide(i);
                resetAutoSlide();
            });
            carouselDots.appendChild(dot);
        }

        updateCarousel();
        startAutoSlide();
        isCarouselInitialized = true;
    }

    function updateCarousel() {
        if (!carouselTrack.children.length) return;

        const slideWidth = 100 / carouselTrack.children.length;
        carouselTrack.style.transform = `translateX(-${currentSlide * slideWidth}%)`;

        document.querySelectorAll('.dot').forEach((dot, index) => {
            dot.classList.toggle('active', index === currentSlide);
        });
    }

    function nextSlide() {
        if (!carouselTrack.children.length) return;

        const totalSlides = carouselTrack.children.length;
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
        resetAutoSlide();
    }

    function prevSlide() {
        if (!carouselTrack.children.length) return;

        const totalSlides = carouselTrack.children.length;
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
        resetAutoSlide();
    }

    function goToSlide(index) {
        if (!carouselTrack.children.length) return;

        const totalSlides = carouselTrack.children.length;
        if (index >= 0 && index < totalSlides) {
            currentSlide = index;
            updateCarousel();
        }
    }

    function startAutoSlide() {
        if (autoSlideInterval) {
            clearInterval(autoSlideInterval);
        }
        autoSlideInterval = setInterval(nextSlide, 5000);
    }

    function resetAutoSlide() {
        clearInterval(autoSlideInterval);
        startAutoSlide();
    }

    window.addEventListener('resize', initCarousel);

    // Инициализируем после загрузки страницы
    document.addEventListener('DOMContentLoaded', function() {
        initCarousel();
    });

    document.querySelector('.carousel-btn.next')?.addEventListener('click', nextSlide);
    document.querySelector('.carousel-btn.prev')?.addEventListener('click', prevSlide);

    carouselTrack?.addEventListener('mouseenter', () => {
        clearInterval(autoSlideInterval);
    });

    carouselTrack?.addEventListener('mouseleave', () => {
        startAutoSlide();
    });

    // Галлерея студий
    const studiosData = [
        {
            id: 1,
            name: "Лофт-студия",
            image: "loft.jpg",
            description: "Просторный лофт с кирпичными стенами",
            priceMultiplier: 1.0
        },
        {
            id: 2,
            name: "Классическая студия",
            image: "classic.jpg",
            description: "Элегантный интерьер в классическом стиле",
            priceMultiplier: 1.2
        },
        {
            id: 3,
            name: "Студия с естественным светом",
            image: "window.jpg",
            description: "Большие окна и панорамный вид",
            priceMultiplier: 1.3
        }
    ];

    let selectedStudioId = 1;

    function initStudiosGallery() {
        const studiosGrid = document.getElementById('studiosGrid');
        studiosGrid.innerHTML = '';

        studiosData.forEach((studio, index) => {
            const studioItem = document.createElement('div');
            studioItem.className = `studio-item ${studio.id === selectedStudioId ? 'selected' : ''}`;
            studioItem.dataset.id = studio.id;
            studioItem.dataset.multiplier = studio.priceMultiplier;

            const img = new Image();
            img.src = studio.image;
            img.alt = studio.name;
            img.onerror = function() {
                this.src = 'https://placehold.co/400x200/F9F1E7/5C4033?text=' + encodeURIComponent(studio.name);
            };

            studioItem.innerHTML = `
                    <h3>${studio.name}</h3>
                    <p>${studio.description}</p>
                    <p><small>Коэффициент цены: ${studio.priceMultiplier}x</small></p>
                `;

            studioItem.insertBefore(img, studioItem.firstChild);

            studioItem.addEventListener('click', () => {
                selectedStudioId = studio.id;
                document.querySelectorAll('.studio-item').forEach(item => {
                    item.classList.remove('selected');
                });
                studioItem.classList.add('selected');

                studioItem.style.animation = 'none';
                setTimeout(() => {
                    studioItem.style.animation = 'pulse 0.5s ease-in-out';
                }, 10);

                document.getElementById('studioType').value = studio.priceMultiplier;
                calculatePrice();
            });

            studiosGrid.appendChild(studioItem);
        });
    }

    initStudiosGallery();

    // Калькулятор
    const calcToggle = document.getElementById('calcToggle');
    const calculator = document.getElementById('calculator');
    const totalPriceElement = document.getElementById('totalPrice');
    const studioSelection = document.getElementById('studioSelection');

    document.querySelectorAll('input[name="location"]').forEach(radio => {
        radio.addEventListener('change', function() {
            if (this.value === 'studio') {
                studioSelection.style.display = 'block';
                studioSelection.style.animation = 'fadeIn 0.5s ease-out';
            } else {
                studioSelection.style.display = 'none';
            }
            calculatePrice();
        });
    });

    function calculatePrice() {
        const typePrice = parseInt(document.getElementById('photoType').value);
        const durationCoeff = parseFloat(document.getElementById('duration').value);
        const retouchPrice = parseInt(document.getElementById('retouch').value);

        let studioMultiplier = 1.0;
        const location = document.querySelector('input[name="location"]:checked').value;

        if (location === 'studio') {
            studioMultiplier = parseFloat(document.getElementById('studioType').value);
        } else {
            studioMultiplier = 1.3;
        }

        const total = Math.round((typePrice * durationCoeff * studioMultiplier) + retouchPrice);
        totalPriceElement.textContent = total.toLocaleString('ru-RU');

        totalPriceElement.style.transform = 'scale(1.1)';
        setTimeout(() => {
            totalPriceElement.style.transform = 'scale(1)';
        }, 300);

        return total;
    }

    calcToggle.addEventListener('click', function() {
        const isVisible = calculator.classList.contains('show');

        if (!isVisible) {
            calculator.style.display = 'block';
            calculator.classList.add('show');
            this.classList.add('active');

            if (bookingForm.classList.contains('show')) {
                bookingForm.style.display = 'none';
                bookingForm.classList.remove('show');
                formToggle.classList.remove('active');
            }

            calculator.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
            calculator.style.display = 'none';
            calculator.classList.remove('show');
            this.classList.remove('active');
        }
    });

    const calculatorInputs = ['photoType', 'duration', 'retouch', 'studioType'];
    calculatorInputs.forEach(inputId => {
        document.getElementById(inputId).addEventListener('change', calculatePrice);
    });

    calculatePrice();

    // Форма заявки
    const formToggle = document.getElementById('formToggle');
    const bookingForm = document.getElementById('bookingForm');
    const bookingFormContent = document.getElementById('bookingFormContent');
    const submitBtn = document.getElementById('submitBtn');
    const submitText = document.getElementById('submitText');
    const submitSpinner = document.getElementById('submitSpinner');
    const formMessage = document.getElementById('formMessage');

    formToggle.addEventListener('click', function() {
        const isVisible = bookingForm.classList.contains('show');

        if (!isVisible) {
            bookingForm.style.display = 'block';
            bookingForm.classList.add('show');
            this.classList.add('active');

            if (calculator.classList.contains('show')) {
                calculator.style.display = 'none';
                calculator.classList.remove('show');
                calcToggle.classList.remove('active');
            }

            bookingForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
            bookingForm.style.display = 'none';
            bookingForm.classList.remove('show');
            this.classList.remove('active');
        }
    });

bookingFormContent.addEventListener('submit', async function(e) {
    e.preventDefault();

    // Собираем данные формы
    const formData = {
        name: document.getElementById('name').value,
        phone: document.getElementById('phone').value,
        email: document.getElementById('email').value,
        sessionType: document.getElementById('sessionType').value,
        locationType: document.getElementById('locationType').value,
        preferredStudio: document.getElementById('preferredStudio').value,
        preferredDate: document.getElementById('preferredDate').value,
        message: document.getElementById('message').value,
        calculatedPrice: calculatePrice(),
        calculationDetails: getCalculationDetails()
    };

    // Показываем индикатор загрузки
    submitBtn.disabled = true;
    submitText.style.display = 'none';
    submitSpinner.style.display = 'inline';

    formMessage.className = 'form-message';
    formMessage.style.display = 'none';

    try {
        // Отправляем данные в Formcarry
        const response = await fetch('https://formcarry.com/s/Zu-t_yEni3U', {
            method: 'POST',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });

        const result = await response.json();

        if (response.ok && result.code === 200) {
            // Успешная отправка
            showFormMessage('success', 'Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.');
            bookingFormContent.reset();
        } else {
            // Ошибка от Formcarry
            throw new Error(result.message || 'Ошибка отправки формы');
        }

    } catch (error) {
        console.error('Ошибка отправки формы:', error);
        showFormMessage('error', 'Произошла ошибка при отправке заявки. Пожалуйста, попробуйте позже или свяжитесь с нами по телефону.');
    } finally {
        submitBtn.disabled = false;
        submitText.style.display = 'inline';
        submitSpinner.style.display = 'none';
    }
});

    function showFormMessage(type, text) {
        formMessage.textContent = text;
        formMessage.className = `form-message ${type}`;
        formMessage.style.display = 'block';

        setTimeout(() => {
            formMessage.style.display = 'none';
        }, 5000);
    }

    function getCalculationDetails() {
        const type = document.getElementById('photoType').options[document.getElementById('photoType').selectedIndex].text;
        const duration = document.getElementById('duration').options[document.getElementById('duration').selectedIndex].text;
        const retouch = document.getElementById('retouch').options[document.getElementById('retouch').selectedIndex].text;
        const location = document.querySelector('input[name="location"]:checked').value === 'studio' ? 'В студии' : 'Выездная съемка';
        const studio = document.getElementById('studioType').options[document.getElementById('studioType').selectedIndex].text;

        return `Детали расчета:\nТип: ${type}\nПродолжительность: ${duration}\nРетушь: ${retouch}\nЛокация: ${location}\nСтудия: ${studio}`;
    }

    // Анимация элементов при скролле
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    document.querySelectorAll('.studio-item, .action-btn, .form-group, .contact-method').forEach(el => {
        observer.observe(el);
    });

    // Плавный скролл для якорных ссылок
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();

            const targetId = this.getAttribute('href');
            if (targetId === '#') return;

            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });

                // Анимация для целевого элемента
                targetElement.style.animation = 'none';
                setTimeout(() => {
                    targetElement.style.animation = 'pulse 0.5s ease-in-out';
                }, 10);
            }
        });
    });
</script>
</body>
</html>